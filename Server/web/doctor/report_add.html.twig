{% extends 'doctor/base.html.twig' %}
{% block title %}{{ i18n.medicalSummary }}{% endblock %}
{% block head %}{% endblock %}
{% block body %}
    <div class="container">
        <div class="row align-items-start">
            <div class="col-md-12 admin-container">
                <div class="admin-top margin-bot-default flex-container flex-row flex-items-center-vertical">
                    <h5 class="medicus-title">{{ i18n.medicalSummary }}</h5>
                </div>
                <h6>{{ i18n.patient }}: {{ patient.lastName }} {{ patient.firstName }} {{ patient.patronymic }}</h6>
                <h6>{{ i18n.date }}: {{ "now"|date("d.m.Y") }}</h6>
            </div>
        </div>
        <div class="row align-items-start margin-top-big">
            <div class="col-md-12 shaded-container">
                <form id="diagnosisForm" method="post">
                    <input type="hidden" name="csrf_name" value="{{ csrf.csrf_name }}">
                    <input type="hidden" name="csrf_value" value="{{ csrf.csrf_value }}">
                    <label for="diagnosis">{{ i18n.diagnosis }}</label>
                    <div class="input-group mb-3">
                        <input name="diagnosis" id="diagnosis" type="text" class="form-control" placeholder="{{ i18n.diagnosisName }}" required>
                        <div class="input-group-append">
                            <button class="btn btn-medicus medicus-no-min-width" id="possibleDiagnoses" title="{{ i18n.possibleDiagnoses }}" type="button"><i class="fas fa-stream"></i></button>
                        </div>
                    </div>
                    <label class="margin-top-default" for="symptomsDiv">{{ i18n.symptoms }}</label>
                    <div id="symptomsDiv">
                        <div class="input-group mb-3">
                            <input id="inputAdd" aria-label="{{ i18n.symptom }}" type="text" class="form-control" placeholder="{{ i18n.symptomName }}">
                            <div class="input-group-append">
                                <button class="btn btn-medicus medicus-no-min-width btn-add" title="{{ i18n.addSymptom }}" type="button"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                    <input id="formSubmitBtn" type="submit" name="submit" class="btn btn-medicus btn-medicus-big-width btn-medicus-shaded btn-block-md" style="display: none" value="{{ i18n.save }}" />
                </form>
            </div>
        </div>
        <div class="row align-items-start margin-top-big">
            <div class="col-md-12 medicus-bottom-buttons">
                <a href="{{ urlPrefix }}/doctor/report/{{ userId }}" class="btn btn-medicus btn-medicus-big-width btn-medicus-shaded btn-block-md">{{ i18n.back }}</a>
                <button type="button" id="submitBtn" class="btn btn-medicus btn-medicus-big-width btn-medicus-shaded btn-block-md">{{ i18n.save }}</button>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script type="text/javascript">
        const app_post_url = '/{{ languageCode }}/admin/doctor/report/add';
        const app_remove_symptom = '{{ i18n.removeSymptom }}';
        const app_symptom_name = '{{ i18n.symptomName }}';
        const app_symptom = '{{ i18n.symptom }}';
        const app_patient_id = '{{ patient.id }}';
    </script>
    <script type="text/javascript" src="/assets/js/report_control.js" async></script>
    <script type="text/javascript" src="/assets/js/report.js" async></script>
{% endblock %}